{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useState, useEffect } from \"react\";\nimport { useForm, Controller } from \"react-hook-form\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Picker from \"react-native-web/dist/exports/Picker\";\nimport axios from \"axios\";\nimport { TextInput, Avatar, Button, IconButton } from \"react-native-paper\";\nimport { car } from \"../assets/css/login_Styles\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar url = \"http://192.168.10.12:4000/api\";\nexport default function CreateAcc(_ref) {\n  var navigation = _ref.navigation;\n  var _useForm = useForm(),\n    control = _useForm.control,\n    handleSubmit = _useForm.handleSubmit,\n    errors = _useForm.errors;\n  var _useState = useState(\"usuario\"),\n    _useState2 = _slicedToArray(_useState, 2),\n    selectedRole = _useState2[0],\n    setSelectedRole = _useState2[1];\n  var onSubmit = function () {\n    var _ref2 = _asyncToGenerator(function* (data) {\n      try {\n        var response = yield axios.post(`${url}/register`, data);\n        if (response.data.error) {\n          Alert.alert(\"Error\", \"Hubo un error al procesar la solicitud\");\n        } else if (response.data.message) {\n          Alert.alert(\"Éxito\", response.data.message);\n        }\n      } catch (error) {\n        console.error(\"Error al comunicarse con el servidor:\", error);\n      }\n    });\n    return function onSubmit(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  return _jsx(View, {\n    style: LoginStyles.container,\n    children: _jsxs(View, {\n      style: LoginStyles.login_container,\n      children: [_jsx(Text, {\n        style: LoginStyles.title,\n        children: \"Registro de Usuario\"\n      }), _jsxs(View, {\n        style: LoginStyles.input_container,\n        children: [_jsx(Controller, {\n          control: control,\n          render: function render(_ref3) {\n            var field = _ref3.field;\n            return _jsx(TextInput, {\n              label: \"Nombre de Usuario\",\n              style: LoginStyles.input,\n              onChangeText: function onChangeText(text) {\n                return field.onChange(text);\n              },\n              value: field.value\n            });\n          },\n          name: \"username\",\n          rules: {\n            required: \"El nombre de usuario es obligatorio\"\n          }\n        }), errors.username && _jsx(Text, {\n          style: LoginStyles.message_error,\n          children: errors.username.message\n        }), _jsx(Controller, {\n          control: control,\n          render: function render(_ref4) {\n            var field = _ref4.field;\n            return _jsx(TextInput, {\n              label: \"Nombre\",\n              style: LoginStyles.input,\n              onChangeText: function onChangeText(text) {\n                return field.onChange(text);\n              },\n              value: field.value\n            });\n          },\n          name: \"name\",\n          rules: {\n            required: \"El nombre es obligatorio\"\n          }\n        }), errors.name && _jsx(Text, {\n          style: LoginStyles.message_error,\n          children: errors.name.message\n        }), _jsxs(Picker, {\n          selectedValue: selectedRole,\n          onValueChange: function onValueChange(itemValue) {\n            return setSelectedRole(itemValue);\n          },\n          children: [_jsx(Picker.Item, {\n            label: \"Usuario\",\n            value: \"usuario\"\n          }), _jsx(Picker.Item, {\n            label: \"Administrador\",\n            value: \"administrador\"\n          })]\n        }), _jsx(Controller, {\n          control: control,\n          render: function render(_ref5) {\n            var field = _ref5.field;\n            return _jsx(TextInput, {\n              label: \"Contrase\\xF1a\",\n              style: LoginStyles.input,\n              onChangeText: function onChangeText(text) {\n                return field.onChange(text);\n              },\n              value: field.value,\n              secureTextEntry: true\n            });\n          },\n          name: \"password\",\n          rules: {\n            required: \"La contraseña es obligatoria\"\n          }\n        }), errors.password && _jsx(Text, {\n          style: LoginStyles.message_error,\n          children: errors.password.message\n        }), _jsx(Controller, {\n          control: control,\n          render: function render(_ref6) {\n            var field = _ref6.field;\n            return _jsx(TextInput, {\n              label: \"Palabra Reservada\",\n              style: LoginStyles.input,\n              onChangeText: function onChangeText(text) {\n                return field.onChange(text);\n              },\n              value: field.value\n            });\n          },\n          name: \"reservedword\",\n          rules: {\n            required: \"La palabra reservada es obligatoria\"\n          }\n        }), errors.reservedword && _jsx(Text, {\n          style: LoginStyles.message_error,\n          children: errors.reservedword.message\n        }), _jsx(Button, {\n          style: LoginStyles.button,\n          onPress: handleSubmit(onSubmit),\n          children: \"Registrar\"\n        })]\n      })]\n    })\n  });\n}","map":{"version":3,"names":["useState","useEffect","useForm","Controller","StyleSheet","Text","View","Picker","axios","TextInput","Avatar","Button","IconButton","car","jsx","_jsx","jsxs","_jsxs","url","CreateAcc","_ref","navigation","_useForm","control","handleSubmit","errors","_useState","_useState2","_slicedToArray","selectedRole","setSelectedRole","onSubmit","_ref2","_asyncToGenerator","data","response","post","error","Alert","alert","message","console","_x","apply","arguments","style","LoginStyles","container","children","login_container","title","input_container","render","_ref3","field","label","input","onChangeText","text","onChange","value","name","rules","required","username","message_error","_ref4","selectedValue","onValueChange","itemValue","Item","_ref5","secureTextEntry","password","_ref6","reservedword","button","onPress"],"sources":["C:/Users/Felipe/Desktop/code/DespenoyProducto3-Moviles3yProgAvan/desempenoyProducto/components/CreateAcc.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { useForm, Controller } from \"react-hook-form\";\r\nimport {\r\n    StyleSheet,\r\n    Text,\r\n    View,\r\n    Picker,\r\n} from \"react-native\";\r\nimport axios from \"axios\";\r\nimport { TextInput, Avatar, Button, IconButton } from \"react-native-paper\";\r\nimport {car} from  \"../assets/css/login_Styles\";\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst url = \"http://192.168.10.12:4000/api\";\r\n\r\nexport default function CreateAcc({navigation}) {\r\n  const { control, handleSubmit, errors } = useForm();\r\n  const [selectedRole, setSelectedRole] = useState(\"usuario\");\r\n\r\n  const onSubmit = async (data) => {\r\n    try {\r\n      const response = await axios.post(`${url}/register`, data);\r\n\r\n      if (response.data.error) {\r\n        Alert.alert(\"Error\", \"Hubo un error al procesar la solicitud\");\r\n      } else if (response.data.message) {\r\n        Alert.alert(\"Éxito\", response.data.message);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error al comunicarse con el servidor:\", error);\r\n    }\r\n  };\r\n      \r\n      return(\r\n        <View style={LoginStyles.container}>\r\n      <View style={LoginStyles.login_container}>\r\n        <Text style={LoginStyles.title}>Registro de Usuario</Text>\r\n\r\n        <View style={LoginStyles.input_container}>\r\n          <Controller\r\n            control={control}\r\n            render={({ field }) => (\r\n              <TextInput\r\n                label=\"Nombre de Usuario\"\r\n                style={LoginStyles.input}\r\n                onChangeText={(text) => field.onChange(text)}\r\n                value={field.value}\r\n              />\r\n            )}\r\n            name=\"username\"\r\n            rules={{ required: \"El nombre de usuario es obligatorio\" }}\r\n          />\r\n          {errors.username && (\r\n            <Text style={LoginStyles.message_error}>\r\n              {errors.username.message}\r\n            </Text>\r\n          )}\r\n\r\n          <Controller\r\n            control={control}\r\n            render={({ field }) => (\r\n              <TextInput\r\n                label=\"Nombre\"\r\n                style={LoginStyles.input}\r\n                onChangeText={(text) => field.onChange(text)}\r\n                value={field.value}\r\n              />\r\n            )}\r\n            name=\"name\"\r\n            rules={{ required: \"El nombre es obligatorio\" }}\r\n          />\r\n          {errors.name && (\r\n            <Text style={LoginStyles.message_error}>{errors.name.message}</Text>\r\n          )}\r\n\r\n          <Picker\r\n            selectedValue={selectedRole}\r\n            onValueChange={(itemValue) => setSelectedRole(itemValue)}\r\n          >\r\n            <Picker.Item label=\"Usuario\" value=\"usuario\" />\r\n            <Picker.Item label=\"Administrador\" value=\"administrador\" />\r\n          </Picker>\r\n\r\n          <Controller\r\n            control={control}\r\n            render={({ field }) => (\r\n              <TextInput\r\n                label=\"Contraseña\"\r\n                style={LoginStyles.input}\r\n                onChangeText={(text) => field.onChange(text)}\r\n                value={field.value}\r\n                secureTextEntry={true}\r\n              />\r\n            )}\r\n            name=\"password\"\r\n            rules={{ required: \"La contraseña es obligatoria\" }}\r\n          />\r\n          {errors.password && (\r\n            <Text style={LoginStyles.message_error}>\r\n              {errors.password.message}\r\n            </Text>\r\n          )}\r\n\r\n          <Controller\r\n            control={control}\r\n            render={({ field }) => (\r\n              <TextInput\r\n                label=\"Palabra Reservada\"\r\n                style={LoginStyles.input}\r\n                onChangeText={(text) => field.onChange(text)}\r\n                value={field.value}\r\n              />\r\n            )}\r\n            name=\"reservedword\"\r\n            rules={{ required: \"La palabra reservada es obligatoria\" }}\r\n          />\r\n          {errors.reservedword && (\r\n            <Text style={LoginStyles.message_error}>\r\n              {errors.reservedword.message}\r\n            </Text>\r\n          )}\r\n\r\n          <Button style={LoginStyles.button} onPress={handleSubmit(onSubmit)}>\r\n            Registrar\r\n          </Button>\r\n        </View>\r\n      </View>\r\n    </View>\r\n      )\r\n\r\n}\r\n"],"mappings":";;AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,SAASC,OAAO,EAAEC,UAAU,QAAQ,iBAAiB;AAAC,OAAAC,UAAA;AAAA,OAAAC,IAAA;AAAA,OAAAC,IAAA;AAAA,OAAAC,MAAA;AAOtD,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,SAAS,EAAEC,MAAM,EAAEC,MAAM,EAAEC,UAAU,QAAQ,oBAAoB;AAC1E,SAAQC,GAAG;AAAqC,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAOhD,IAAMC,GAAG,GAAG,+BAA+B;AAE3C,eAAe,SAASC,SAASA,CAAAC,IAAA,EAAe;EAAA,IAAbC,UAAU,GAAAD,IAAA,CAAVC,UAAU;EAC3C,IAAAC,QAAA,GAA0CpB,OAAO,CAAC,CAAC;IAA3CqB,OAAO,GAAAD,QAAA,CAAPC,OAAO;IAAEC,YAAY,GAAAF,QAAA,CAAZE,YAAY;IAAEC,MAAM,GAAAH,QAAA,CAANG,MAAM;EACrC,IAAAC,SAAA,GAAwC1B,QAAQ,CAAC,SAAS,CAAC;IAAA2B,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAApDG,YAAY,GAAAF,UAAA;IAAEG,eAAe,GAAAH,UAAA;EAEpC,IAAMI,QAAQ;IAAA,IAAAC,KAAA,GAAAC,iBAAA,CAAG,WAAOC,IAAI,EAAK;MAC/B,IAAI;QACF,IAAMC,QAAQ,SAAS3B,KAAK,CAAC4B,IAAI,CAAE,GAAElB,GAAI,WAAU,EAAEgB,IAAI,CAAC;QAE1D,IAAIC,QAAQ,CAACD,IAAI,CAACG,KAAK,EAAE;UACvBC,KAAK,CAACC,KAAK,CAAC,OAAO,EAAE,wCAAwC,CAAC;QAChE,CAAC,MAAM,IAAIJ,QAAQ,CAACD,IAAI,CAACM,OAAO,EAAE;UAChCF,KAAK,CAACC,KAAK,CAAC,OAAO,EAAEJ,QAAQ,CAACD,IAAI,CAACM,OAAO,CAAC;QAC7C;MACF,CAAC,CAAC,OAAOH,KAAK,EAAE;QACdI,OAAO,CAACJ,KAAK,CAAC,uCAAuC,EAAEA,KAAK,CAAC;MAC/D;IACF,CAAC;IAAA,gBAZKN,QAAQA,CAAAW,EAAA;MAAA,OAAAV,KAAA,CAAAW,KAAA,OAAAC,SAAA;IAAA;EAAA,GAYb;EAEG,OACE7B,IAAA,CAACT,IAAI;IAACuC,KAAK,EAAEC,WAAW,CAACC,SAAU;IAAAC,QAAA,EACrC/B,KAAA,CAACX,IAAI;MAACuC,KAAK,EAAEC,WAAW,CAACG,eAAgB;MAAAD,QAAA,GACvCjC,IAAA,CAACV,IAAI;QAACwC,KAAK,EAAEC,WAAW,CAACI,KAAM;QAAAF,QAAA,EAAC;MAAmB,CAAM,CAAC,EAE1D/B,KAAA,CAACX,IAAI;QAACuC,KAAK,EAAEC,WAAW,CAACK,eAAgB;QAAAH,QAAA,GACvCjC,IAAA,CAACZ,UAAU;UACToB,OAAO,EAAEA,OAAQ;UACjB6B,MAAM,EAAE,SAAAA,OAAAC,KAAA;YAAA,IAAGC,KAAK,GAAAD,KAAA,CAALC,KAAK;YAAA,OACdvC,IAAA,CAACN,SAAS;cACR8C,KAAK,EAAC,mBAAmB;cACzBV,KAAK,EAAEC,WAAW,CAACU,KAAM;cACzBC,YAAY,EAAE,SAAAA,aAACC,IAAI;gBAAA,OAAKJ,KAAK,CAACK,QAAQ,CAACD,IAAI,CAAC;cAAA,CAAC;cAC7CE,KAAK,EAAEN,KAAK,CAACM;YAAM,CACpB,CAAC;UAAA,CACF;UACFC,IAAI,EAAC,UAAU;UACfC,KAAK,EAAE;YAAEC,QAAQ,EAAE;UAAsC;QAAE,CAC5D,CAAC,EACDtC,MAAM,CAACuC,QAAQ,IACdjD,IAAA,CAACV,IAAI;UAACwC,KAAK,EAAEC,WAAW,CAACmB,aAAc;UAAAjB,QAAA,EACpCvB,MAAM,CAACuC,QAAQ,CAACxB;QAAO,CACpB,CACP,EAEDzB,IAAA,CAACZ,UAAU;UACToB,OAAO,EAAEA,OAAQ;UACjB6B,MAAM,EAAE,SAAAA,OAAAc,KAAA;YAAA,IAAGZ,KAAK,GAAAY,KAAA,CAALZ,KAAK;YAAA,OACdvC,IAAA,CAACN,SAAS;cACR8C,KAAK,EAAC,QAAQ;cACdV,KAAK,EAAEC,WAAW,CAACU,KAAM;cACzBC,YAAY,EAAE,SAAAA,aAACC,IAAI;gBAAA,OAAKJ,KAAK,CAACK,QAAQ,CAACD,IAAI,CAAC;cAAA,CAAC;cAC7CE,KAAK,EAAEN,KAAK,CAACM;YAAM,CACpB,CAAC;UAAA,CACF;UACFC,IAAI,EAAC,MAAM;UACXC,KAAK,EAAE;YAAEC,QAAQ,EAAE;UAA2B;QAAE,CACjD,CAAC,EACDtC,MAAM,CAACoC,IAAI,IACV9C,IAAA,CAACV,IAAI;UAACwC,KAAK,EAAEC,WAAW,CAACmB,aAAc;UAAAjB,QAAA,EAAEvB,MAAM,CAACoC,IAAI,CAACrB;QAAO,CAAO,CACpE,EAEDvB,KAAA,CAACV,MAAM;UACL4D,aAAa,EAAEtC,YAAa;UAC5BuC,aAAa,EAAE,SAAAA,cAACC,SAAS;YAAA,OAAKvC,eAAe,CAACuC,SAAS,CAAC;UAAA,CAAC;UAAArB,QAAA,GAEzDjC,IAAA,CAACR,MAAM,CAAC+D,IAAI;YAACf,KAAK,EAAC,SAAS;YAACK,KAAK,EAAC;UAAS,CAAE,CAAC,EAC/C7C,IAAA,CAACR,MAAM,CAAC+D,IAAI;YAACf,KAAK,EAAC,eAAe;YAACK,KAAK,EAAC;UAAe,CAAE,CAAC;QAAA,CACrD,CAAC,EAET7C,IAAA,CAACZ,UAAU;UACToB,OAAO,EAAEA,OAAQ;UACjB6B,MAAM,EAAE,SAAAA,OAAAmB,KAAA;YAAA,IAAGjB,KAAK,GAAAiB,KAAA,CAALjB,KAAK;YAAA,OACdvC,IAAA,CAACN,SAAS;cACR8C,KAAK,EAAC,eAAY;cAClBV,KAAK,EAAEC,WAAW,CAACU,KAAM;cACzBC,YAAY,EAAE,SAAAA,aAACC,IAAI;gBAAA,OAAKJ,KAAK,CAACK,QAAQ,CAACD,IAAI,CAAC;cAAA,CAAC;cAC7CE,KAAK,EAAEN,KAAK,CAACM,KAAM;cACnBY,eAAe,EAAE;YAAK,CACvB,CAAC;UAAA,CACF;UACFX,IAAI,EAAC,UAAU;UACfC,KAAK,EAAE;YAAEC,QAAQ,EAAE;UAA+B;QAAE,CACrD,CAAC,EACDtC,MAAM,CAACgD,QAAQ,IACd1D,IAAA,CAACV,IAAI;UAACwC,KAAK,EAAEC,WAAW,CAACmB,aAAc;UAAAjB,QAAA,EACpCvB,MAAM,CAACgD,QAAQ,CAACjC;QAAO,CACpB,CACP,EAEDzB,IAAA,CAACZ,UAAU;UACToB,OAAO,EAAEA,OAAQ;UACjB6B,MAAM,EAAE,SAAAA,OAAAsB,KAAA;YAAA,IAAGpB,KAAK,GAAAoB,KAAA,CAALpB,KAAK;YAAA,OACdvC,IAAA,CAACN,SAAS;cACR8C,KAAK,EAAC,mBAAmB;cACzBV,KAAK,EAAEC,WAAW,CAACU,KAAM;cACzBC,YAAY,EAAE,SAAAA,aAACC,IAAI;gBAAA,OAAKJ,KAAK,CAACK,QAAQ,CAACD,IAAI,CAAC;cAAA,CAAC;cAC7CE,KAAK,EAAEN,KAAK,CAACM;YAAM,CACpB,CAAC;UAAA,CACF;UACFC,IAAI,EAAC,cAAc;UACnBC,KAAK,EAAE;YAAEC,QAAQ,EAAE;UAAsC;QAAE,CAC5D,CAAC,EACDtC,MAAM,CAACkD,YAAY,IAClB5D,IAAA,CAACV,IAAI;UAACwC,KAAK,EAAEC,WAAW,CAACmB,aAAc;UAAAjB,QAAA,EACpCvB,MAAM,CAACkD,YAAY,CAACnC;QAAO,CACxB,CACP,EAEDzB,IAAA,CAACJ,MAAM;UAACkC,KAAK,EAAEC,WAAW,CAAC8B,MAAO;UAACC,OAAO,EAAErD,YAAY,CAACO,QAAQ,CAAE;UAAAiB,QAAA,EAAC;QAEpE,CAAQ,CAAC;MAAA,CACL,CAAC;IAAA,CACH;EAAC,CACH,CAAC;AAGX"},"metadata":{},"sourceType":"module","externalDependencies":[]}